<% content_for :for_head do %>
<script>
function DropDown(el) {
	this.dd = el;
	this.placeholder = this.dd.children('span');
	this.opts = this.dd.find('ul.dropdown > li');
	this.val = '';
	this.index = -1;
	this.initEvents();
}

DropDown.prototype = {
	initEvents : function() {
		var obj = this;

		obj.dd.on('click', function(event){
			$(this).toggleClass('active');
			return false;
		});

		obj.opts.on('click',function(){
			var opt = $(this);
			obj.val = opt.text();
			obj.index = opt.index();
			obj.placeholder.text(obj.val);
		});
	},
	getValue : function() {
		return this.val;
	},
	getIndex : function() {
		return this.index;
	}
}

$(function() {
	var dd = new DropDown( $('#dd') );
	$(document).click(function() {
		// all dropdowns
		$('.wrapper-dropdown-3').removeClass('active');
	});
});

</script>
<% end %>

<div class="row">

	<div class="col-lg-12">
		<h2>Adverse Event Reports by Manufacturers</h2>
		  
			  <select id="first-disabled" class="selectpicker" data-hide-disabled="true" data-live-search="true">
				<optgroup disabled="disabled" label="disabled">
				  <option>Hidden</option>
				</optgroup>
				<optgroup label="1990-">
				  <option>Select Year</option>
				  <option>1990</option>
				  <option>1991</option>
				  <option>1992</option>
				  <option>1993</option>
				  <option>1994</option>
				</optgroup>
				<optgroup label="2000-">
				  <option>2000</option>
				  <option>2001</option>
				  <option>2002</option>
				  <option>2003</option>
				</optgroup>
			  </select>

			<select id="first-disabled" class="selectpicker" data-hide-disabled="true" data-live-search="true">
				<optgroup disabled="disabled" label="disabled">
					<option>Hidden</option>
				</optgroup>
				<optgroup label="1990-">
					<option>Manufacturers</option>
					<option>1990</option>
					<option>1991</option>
					<option>1992</option>
					<option>1993</option>
					<option>1994</option>
				</optgroup>
				<optgroup label="2000-">
					<option>2000</option>
					<option>2001</option>
					<option>2002</option>
					<option>2003</option>
				</optgroup>
			</select>
            </div>

        <div class="row">
            <div class="col-md-6 img-portfolio">
            	<div class="contentsbox">
                  <h3>Device Types</h3>
		   
				<%= pie_chart "/enforcements/devicereport?type=device", discrete: true %>
		
	</div>
            </div>
            <div class="col-md-6 img-portfolio">
            	<div class="contentsbox">
            		 <h3>Seriousness of Adverse Event caused by Device Name</h3>
		
		<%= pie_chart "/enforcements/devicereport?type=enf", discrete: true %>
		
						</div>
            </div>

	</div>


</div> <!-- .row -->